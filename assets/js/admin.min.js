function disableScrolling(){var e=window.scrollX,t=window.scrollY;window.onscroll=function(){window.scrollTo(e,t)}}function enableScrolling(){ezTocSettingsTabsFixed()}jQuery(document).ready((function(e){var t=e(".ez-toc-color-picker");t.length&&t.wpColorPicker();var n=document.getElementById("ez-toc-settings[width]"),s=document.getElementById("ez-toc-settings[width_custom]");s&&("custom"!=n.value&&(s.parentNode.parentNode.style.display="none"),n.addEventListener("change",(function(){"custom"==document.getElementById("ez-toc-settings[width]").value?s.parentNode.parentNode.style.display="revert":s.parentNode.parentNode.style.display="none"}))),e("#reset-options-to-default-button").click((function(){1==confirm("Do you want reset settings to default options?")&&e.post(ajaxurl,{action:"eztoc_reset_options_to_default",eztoc_security_nonce:cn_toc_admin_data.eztoc_security_nonce},(function(e){alert("Default Options Reset Now!"),window.location.reload()}))})),e("#subscribe-newsletter-form").on("submit",(function(t){t.preventDefault();var n=e("#subscribe-newsletter-form"),s=n.find('input[name="name"]').val(),a=n.find('input[name="email"]').val(),o=n.find('input[name="company"]').val();e.post(ajaxurl,{action:"eztoc_subscribe_newsletter",name:s,email:a,website:o,eztoc_security_nonce:cn_toc_admin_data.eztoc_security_nonce},(function(e){if("security_nonce_not_verified"===e)return alert("Security nonce not verified"),!1}))}));let a=e("#eztoc-general").find("select[name='ez-toc-settings[position]']"),o=e("#eztoc-general").find("input[name='ez-toc-settings[custom_para_number]']"),i=e("#eztoc-general").find("input[name='ez-toc-settings[custom_img_number]']"),c=e("#eztoc-general").find("input[name='ez-toc-settings[blockqoute_checkbox]']");"aftercustompara"==e(a).val()?e(o).parents("tr").show():e(o).parents("tr").hide(),"afterpara"==e(a).val()||"aftercustompara"==e(a).val()?e(c).parents("tr").show():e(c).parents("tr").hide(),"aftercustomimg"==e(a).val()?e(i).parents("tr").show():e(i).parents("tr").hide(),e(document).on("change","select[name='ez-toc-settings[position]']",(function(){"aftercustompara"==e(this).val()?e(o).parents("tr").show(500):e(o).parents("tr").hide(500),"afterpara"==e(this).val()||"aftercustompara"==e(this).val()?e(c).parents("tr").show(500):e(c).parents("tr").hide(500),"aftercustomimg"==e(this).val()?e(i).parents("tr").show(500):e(i).parents("tr").hide(500)}));let r=e("#eztoc-general").find("select[name='ez-toc-settings[toc_loading]']"),l=e("#eztoc-general").find("input[name='ez-toc-settings[smooth_scroll]']"),d=e("#eztoc-general").find("input[name='ez-toc-settings[avoid_anch_jump]']"),u=e("#eztoc-advanced").find("select[name='ez-toc-settings[load_js_in]']");"js"==e(r).val()?(e(l).parents("tr").show(),e(d).parents("tr").show(),e(u).parents("tr").show()):(e(l).parents("tr").hide(),e(d).parents("tr").hide(),e(u).parents("tr").hide()),e(document).on("change","select[name='ez-toc-settings[toc_loading]']",(function(){"js"==e(this).val()?(e(l).parents("tr").show(500),e(d).parents("tr").show(500),e(u).parents("tr").show(500)):(e(l).parents("tr").hide(500),e(d).parents("tr").hide(500),e(u).parents("tr").hide(500))}));let p=e("#eztoc-sticky").find("input[name='ez-toc-settings[sticky_highlight_heading]']"),m=e("#eztoc-sticky").find("input[name='ez-toc-settings[sticky_highlight_bg_colour]']"),v=e("#eztoc-sticky").find("input[name='ez-toc-settings[sticky_highlight_title_colour]']");1==e(p).prop("checked")?(e(m).parents("tr").show(),e(v).parents("tr").show()):(e(m).parents("tr").hide(),e(v).parents("tr").hide()),e(document).on("change","input[name='ez-toc-settings[sticky_highlight_heading]']",(function(){1==e(this).prop("checked")?(e(m).parents("tr").show(500),e(v).parents("tr").show(500)):(e(m).parents("tr").hide(500),e(v).parents("tr").hide(500))}));let g=jQuery("#ez-toc").find("select[name='ez-toc-settings[position-specific]']"),_=jQuery("#ez-toc").find("input[name='ez-toc-settings[s_custom_para_number]']"),h=jQuery("#ez-toc").find("input[name='ez-toc-settings[s_custom_img_number]']"),f=jQuery("#ez-toc").find("input[name='ez-toc-settings[s_blockqoute_checkbox]']");if("aftercustompara"==jQuery(g).val()?jQuery(_).parents("tr").show():jQuery(_).parents("tr").hide(),"afterpara"==jQuery(g).val()||"aftercustompara"==jQuery(g).val()?jQuery(f).parents("tr").show():jQuery(f).parents("tr").hide(),"aftercustomimg"==jQuery(g).val()?jQuery(h).parents("tr").show():jQuery(h).parents("tr").hide(),jQuery("#ez-toc").on("change","select[name='ez-toc-settings[position-specific]']",(function(){"aftercustompara"==jQuery(this).val()?jQuery(_).parents("tr").show(500):jQuery(_).parents("tr").hide(500),"afterpara"==jQuery(this).val()||"aftercustompara"==jQuery(this).val()?jQuery(f).parents("tr").show(500):jQuery(f).parents("tr").hide(500),"aftercustomimg"==jQuery(this).val()?jQuery(h).parents("tr").show(500):jQuery(h).parents("tr").hide(500)})),cn_toc_admin_data.do_tour){var y,b="<h3>"+cn_toc_admin_data.translable_txt.using_eztoc+"</h3>";b+="<p>"+cn_toc_admin_data.translable_txt.do_you_want+" <b>"+cn_toc_admin_data.translable_txt.sd_update+"</b> "+cn_toc_admin_data.translable_txt.before_others+"</p>",b+='<style type="text/css">',b+=".wp-pointer-buttons{ padding:0; overflow: hidden; }",b+=".wp-pointer-content .button-secondary{  left: -25px;background: transparent;top: 5px; border: 0;position: relative; padding: 0; box-shadow: none;margin: 0;color: #0085ba;} .wp-pointer-content .button-primary{ display:none}  #eztoc_mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }",b+="</style>",b+='<div id="eztoc_mc_embed_signup">',b+='<form method="POST" accept-charset="utf-8" id="eztoc-news-letter-form">',b+='<div id="eztoc_mc_embed_signup_scroll">',b+='<div class="eztoc-mc-field-group" style="    margin-left: 15px;    width: 195px;    float: left;">',b+='<input type="text" name="eztoc_subscriber_name" class="form-control" placeholder="Name" hidden value="'+cn_toc_admin_data.current_user_name+'" style="display:none">',b+='<input type="text" value="'+cn_toc_admin_data.current_user_email+'" name="eztoc_subscriber_email" class="form-control" placeholder="Email*"  style="      width: 180px;    padding: 6px 5px;">',b+='<input type="text" name="eztoc_subscriber_website" class="form-control" placeholder="Website" hidden style=" display:none; width: 168px; padding: 6px 5px;" value="'+cn_toc_admin_data.get_home_url+'">',b+='<input type="hidden" name="ml-submit" value="1" />',b+="</div>",b+='<div id="mce-responses">',b+="</div>",b+='<div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a631df13442f19caede5a5baf_c9a71edce6" tabindex="-1" value=""></div>',b+='<input type="submit" value="Subscribe" name="subscribe" id="pointer-close" class="button mc-newsletter-sent" style=" background: #0085ba; border-color: #006799; padding: 0px 16px; text-shadow: 0 -1px 1px #006799,1px 0 1px #006799,0 1px 1px #006799,-1px 0 1px #006799; height: 30px; margin-top: 1px; color: #fff; box-shadow: 0 1px 0 #006799;">',b+='<p id="eztoc-news-letter-status"></p>',b+="</div>",b+="</form>",b+="</div>",jQuery(document).on("submit","#eztoc-news-letter-form",(function(e){e.preventDefault();var t=jQuery(this),n=t.find('input[name="eztoc_subscriber_name"]').val(),s=t.find('input[name="eztoc_subscriber_email"]').val();website=t.find('input[name="eztoc_subscriber_website"]').val(),jQuery.post(cn_toc_admin_data.ajax_url,{action:"eztoc_subscribe_newsletter",eztoc_security_nonce:cn_toc_admin_data.eztoc_security_nonce,name:n,email:s,website:website},(function(e){e?"Some fields are missing."==e.response||"Invalid email address."==e.response||"Invalid list ID."==e.response||"Already subscribed."==e.response?(jQuery("#eztoc-news-letter-status").text(""),jQuery("#eztoc-news-letter-status").css("color","red")):(jQuery("#eztoc-news-letter-status").text("You're subscribed!"),jQuery("#eztoc-news-letter-status").css("color","green")):alert("Sorry, unable to subscribe. Please try again later!")}),"json")}));var z={content:b,position:{edge:"top",align:"left"}};y=function(){e(cn_toc_admin_data.displayID).pointer(z).pointer("open"),cn_toc_admin_data.button2&&(e("#pointer-close").after('<a id="pointer-primary" class="button-primary">'+cn_toc_admin_data.button2+"</a>"),e("#pointer-primary").click((function(){cn_toc_admin_data.function_name})),e("#pointer-close").click((function(){e.post(cn_toc_admin_data.ajax_url,{pointer:"eztoc_subscribe_pointer",action:"dismiss-wp-pointer"})})))},(z=e.extend(z,{buttons:function(t,n){return button=e('<a id="pointer-close" class="button-secondary">'+cn_toc_admin_data.button1+"</a>"),button_2=e("#pointer-close.button"),button.bind("click.pointer",(function(){n.element.pointer("close")})),button_2.on("click",(function(){setTimeout((function(){n.element.pointer("close")}),3e3)})),button},close:function(){e.post(cn_toc_admin_data.ajax_url,{pointer:"eztoc_subscribe_pointer",action:"dismiss-wp-pointer"})},show:function(e,t){t.pointer.css({left:"170px",top:"160px"})}})).position&&z.position.defer_loading?e(window).bind("load.wp-pointers",y):y()}}));const unsecuredCopyToClipboard=e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){console.error("Unable to copy to clipboard",e)}document.body.removeChild(t)};function ez_toc_clipboard(e,t,n,s){s.preventDefault(),disableScrolling();var a=n.parentNode.parentNode.querySelectorAll("#"+e)[0];a.select(),a.setSelectionRange(0,99999),navigator.clipboard.writeText(a.value),n.querySelectorAll("span."+t)[0].innerHTML="Copied: "+a.value}function ez_toc_outFunc(e,t,n){n.preventDefault(),t.querySelectorAll("span."+e)[0].innerHTML="Copy to clipboard",enableScrolling()}function ezTocSettingsTabsFixed(){var e=document.querySelector("#general #eztoc-tabs"),t=document.querySelector("#general form");window.onscroll=null!==e?function(){var n=window.scrollY,s=document.getElementsByClassName("ez-toc-pro-settings-link-paid"),a=document.getElementsByClassName("general-pro-settings-container"),o=document.querySelector("#general #eztoc-tabs #eztoc-link-general"),i=document.querySelector("#general #eztoc-tabs #eztoc-link-appearance"),c=document.querySelector("#general #eztoc-tabs #eztoc-link-advanced"),r=document.querySelector("#general #eztoc-tabs #eztoc-link-shortcode"),l=document.querySelector("#general #eztoc-tabs #eztoc-link-sticky"),d=document.querySelector("#general #eztoc-tabs #eztoc-link-compatibility"),u=document.querySelector("#general #eztoc-tabs #eztoc-link-iesettings"),p=document.querySelector("#general #eztoc-tabs #eztoc-link-prosettings"),m=100,v=document.querySelector("#general div#eztoc-general").offsetTop-m,g=document.querySelector("#general div#eztoc-appearance").offsetTop-m,_=document.querySelector("#general div#eztoc-advanced").offsetTop-m,h=document.querySelector("#general div#eztoc-shortcode").offsetTop-m,f=document.querySelector("#general div#eztoc-compatibility").offsetTop-m,y=document.querySelector("#general div#eztoc-iesettings").offsetTop-m,b=document.querySelector("#eztoc-sticky").offsetTop-m;if(null!==s&&s.length>0)var z=document.querySelector("#general div#eztoc-prosettings").offsetTop-m-150;else f-=150,y-=150;o.classList.add("active"),i.classList.remove("active"),c.classList.remove("active"),r.classList.remove("active"),d.classList.remove("active"),u.classList.remove("active"),l.classList.remove("active"),a.length>0&&null!==p&&p.classList.remove("active"),n>=100?(e.classList.remove("stay"),e.classList.add("moving"),t.classList.add("moving"),null!==s&&s.length>0&&0==a.length&&(e.innerHTML+='<span class="general-pro-settings-container"> | <a href="#eztoc-prosettings" id="eztoc-link-prosettings">Pro Settings</a></span>')):(e.classList.remove("moving"),e.classList.add("stay"),t.classList.remove("moving"),null!==s&&s.length>0&&a.length>0&&document.querySelector(".general-pro-settings-container").remove()),n>=v&&(o.classList.add("active"),i.classList.remove("active"),c.classList.remove("active"),r.classList.remove("active"),d.classList.remove("active"),u.classList.remove("active"),l.classList.remove("active"),null!==s&&s.length>0&&a.length>0&&null!==p&&p.classList.remove("active")),n>=g&&(o.classList.remove("active"),i.classList.add("active"),c.classList.remove("active"),r.classList.remove("active"),d.classList.remove("active"),u.classList.remove("active"),l.classList.remove("active"),null!==s&&s.length>0&&a.length>0&&null!==p&&p.classList.remove("active")),n>=_&&(o.classList.remove("active"),i.classList.remove("active"),c.classList.add("active"),r.classList.remove("active"),d.classList.remove("active"),u.classList.remove("active"),l.classList.remove("active"),null!==s&&s.length>0&&a.length>0&&null!==p&&p.classList.remove("active")),n>=h&&(o.classList.remove("active"),i.classList.remove("active"),c.classList.remove("active"),r.classList.add("active"),d.classList.remove("active"),u.classList.remove("active"),l.classList.remove("active"),null!==s&&s.length>0&&a.length>0&&null!==p&&p.classList.remove("active")),n>=b&&(o.classList.remove("active"),i.classList.remove("active"),c.classList.remove("active"),r.classList.remove("active"),d.classList.remove("active"),u.classList.remove("active"),l.classList.add("active"),null!==s&&s.length>0&&a.length>0&&null!==p&&p.classList.remove("active")),n>=f&&(o.classList.remove("active"),i.classList.remove("active"),c.classList.remove("active"),r.classList.remove("active"),d.classList.add("active"),u.classList.remove("active"),l.classList.remove("active"),null!==s&&s.length>0&&a.length>0&&null!==p&&p.classList.remove("active")),n>=y&&(o.classList.remove("active"),i.classList.remove("active"),c.classList.remove("active"),r.classList.remove("active"),d.classList.remove("active"),u.classList.add("active"),l.classList.remove("active"),null!==s&&s.length>0&&a.length>0&&null!==p&&p.classList.remove("active")),a.length>0&&n>=z&&(o.classList.remove("active"),i.classList.remove("active"),c.classList.remove("active"),r.classList.remove("active"),d.classList.remove("active"),u.classList.remove("active"),l.classList.remove("active"),null!==s&&s.length>0&&a.length>0&&null!==p&&p.classList.add("active"))}:function(){}}function no_heading_text(e){1==jQuery("input[name='ez-toc-settings[no_heading_text]']").prop("checked")?jQuery("input[name='ez-toc-settings[no_heading_text_value]']").parents("tr").show(200):jQuery("input[name='ez-toc-settings[no_heading_text_value]']").parents("tr").hide(200)}ezTocSettingsTabsFixed(),jQuery(document).on("change","input[name='ez-toc-settings[no_heading_text]']",(function(){no_heading_text()})),no_heading_text(),jQuery((function(e){if(0==cn_toc_admin_data.is_amp_activated){let t=e('input[name="ez-toc-settings[toc-run-on-amp-pages]"]');t.length>0&&t.attr("disabled",!0)}})),jQuery((function(e){let t=e("#eztoc-appearance"),n=t.find("input[name='ez-toc-settings[headings-padding]']"),s=["top","bottom","left","right"];s.forEach((e=>{let s=t.find(`input[name='ez-toc-settings[headings-padding-${e}]']`),a=s.parent();var o;s.attr("type","number"),s.parents("tr").remove(),n.parent().append(`&nbsp;&nbsp;&nbsp;<span id='headings-padding-${e}-container'><label for='ez-toc-settings[headings-padding-${e}]'><strong>${o=e,o.charAt(0).toUpperCase()+o.slice(1)}</strong></label>&nbsp;&nbsp;&nbsp;${a.html()}</span>`),t.find(`select[name='ez-toc-settings[headings-padding-${e}_units]']`).html('<option value="px" selected="selected">px</option>')}));let a={};function o(){s.forEach((e=>{a[e].hide(500),t.find(`input[name='ez-toc-settings[headings-padding-${e}]']`).val(0)}))}s.forEach((e=>{a[e]=t.find(`span#headings-padding-${e}-container`)})),n.prop("checked")||o(),e(document).on("change click","input[name='ez-toc-settings[headings-padding]']",(function(){n.prop("checked")?s.forEach((e=>{a[e].show(500)})):o()}))})),jQuery((function(e){let t=e("#eztoc-general"),n=t.find("input[name='ez-toc-settings[show_heading_text]']"),s=t.find("input[name='ez-toc-settings[visibility_on_header_text]']"),a=t.find("input[name='ez-toc-settings[heading_text]']");function o(){n.prop("checked")?(s.parents("tr").show(500),a.parents("tr").show(500)):(s.parents("tr").hide(500),a.parents("tr").hide(500))}o(),e(document).on("change click","input[name='ez-toc-settings[show_heading_text]']",o)})),jQuery((function(e){let t=e("#eztoc-general"),n=t.find("input[name='ez-toc-settings[visibility]']"),s=t.find("input[name='ez-toc-settings[visibility_hide_by_default]']");function a(){n.prop("checked")?s.parents("tr").show(500):s.parents("tr").hide(500)}a(),e(document).on("change click","input[name='ez-toc-settings[visibility]']",a)})),jQuery("#eztoc_migrate_toc").on("click",(function(e){if(e.preventDefault(),!confirm("Migration will overwrite the current Easy TOC settings."))return;jQuery("#eztoc-importer-loader").show();const t=new FormData;t.append("action","eztoc_migrate_tocplus"),t.append("nonce",eztoc_admin_data.eztoc_security_nonce),jQuery.ajax({url:eztoc_admin_data.ajax_url,method:"POST",data:t,processData:!1,contentType:!1,success:function(e){jQuery("#eztoc-importer-loader").hide(),e.success?(alert(e.data),window.location.reload()):alert(e.data)},error:function(){jQuery("#eztoc-importer-loader").hide(),alert("An error occurred while importing the settings.")}})}));