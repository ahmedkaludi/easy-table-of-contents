window.addEventListener("DOMContentLoaded",(()=>{let e,t=null;const n=document.querySelector(".ez-toc-widget-sticky nav");function o(){e=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const o=e.target.getAttribute("id"),c=document.querySelector(`.ez-toc-widget-sticky nav li a[href="#${o}"]`);t&&t!==c.parentElement&&t.classList.remove("active"),c.parentElement.classList.add("active"),t=c.parentElement,function(e,t){const n=t.getBoundingClientRect(),o=e.getBoundingClientRect();return o.top>=n.top&&o.bottom<=n.bottom}(c.parentElement,n)||c.parentElement.scrollIntoView({behavior:"smooth",block:"center"})}}))}),{threshold:.5})}o(),document.querySelectorAll(".ez-toc-section").forEach((t=>{e.observe(t)})),n.addEventListener("click",(t=>{t.target.closest("a")&&(e.disconnect(),setTimeout((()=>{o(),document.querySelectorAll(".ez-toc-section").forEach((t=>{e.observe(t)}))}),2e3))}))}));